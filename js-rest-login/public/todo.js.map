{"version":3,"sources":["webpack://js-rest-login/./src/services.js","webpack://js-rest-login/webpack/bootstrap","webpack://js-rest-login/webpack/runtime/define property getters","webpack://js-rest-login/webpack/runtime/hasOwnProperty shorthand","webpack://js-rest-login/webpack/runtime/make namespace object","webpack://js-rest-login/./src/todo.js"],"names":["checkLoginStatus","fetch","method","Promise","reject","error","then","response","ok","json","err","performLogin","username","headers","Headers","body","JSON","stringify","performLogout","performAdd","name","performDelete","index","performIncrease","ranking","performDecrease","performRefresh","toAdd","document","querySelector","add","list","todos","curSort","errMsgs","addLogin","addLogout","addItem","deleteItem","increaseRanking","decreaseRanking","ascSort","descSort","userInfo","showContent","Object","keys","renderTodos","updateStatus","showLogin","classList","remove","message","innerText","addEventListener","usernameEl","value","info","disableButtonIfNoInput","disabled","e","target","contains","dataset","disableDecreaseButton","decreaseBtnEl","disableIncreaseButton","increaseBtnEl","sortAscList","sortDescList","i","switching","b","litag","shouldSwitch","getElementsByClassName","length","Number","innerHTML","parentNode","insertBefore","listEl","html","map","todo","task","join","myTimer","setInterval","refresh"],"mappings":"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","file":"todo.js","sourcesContent":["export const checkLoginStatus = function() {\n  return fetch('/session', {\n    method: 'GET',\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\nexport const performLogin = function( username ) {\n  return fetch('/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ username }),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\nexport const performLogout = function() {\n  return fetch('/logout', {\n    method: 'DELETE',\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\nexport const performAdd = function( name ) {\n  return fetch(`/item/${name}`, {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ name }),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\nexport const performDelete = function( index ) {\n  return fetch(`/item/${index}`, {\n    method: 'DELETE',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ index }),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\nexport const performIncrease = function( index ) {\n  return fetch(`/item/${index}`, {\n    method: 'PUT',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({  index,\n                            ranking : 1,}),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\nexport const performDecrease = function( index ) {\n  return fetch(`/item/${index}`, {\n    method: 'PUT',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({  index,\n                            ranking : -1,}),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\nexport const performRefresh = function() {\n  return fetch('/session', {\n    method: 'GET',\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n    checkLoginStatus,\n    performAdd,\n    performDelete,\n    performLogin,\n    performLogout,\n    performIncrease,\n    performDecrease,\n    performRefresh,\n  } from './services';\n  \n  const toAdd = document.querySelector('#todo-app .logged-in input');\n  const add = document.querySelector('#todo-app .add-button');\n  const list = document.querySelector('#todo-app .todos'); \n  let todos = {}; \n  let curSort ='';\n  \n  const errMsgs = { \n    'login-required': 'Please log in!',\n    'login-invalid' : 'Invalid login, please try again!',\n    'network-error': 'There was a problem connecting to the network, try again!',\n    'empty-username' : 'Username should not be empty.',\n    'disallowed-characters' : 'Username should not contain any disallowed characters.',\n    'bad-username' : 'Username cannot be dog.',\n    'duplicate' : 'That item already exists.',\n    'missing-item' : 'Item does not exist.',\n  };\n  \n  addLogin();\n  addLogout();\n  addItem();\n  deleteItem();\n  increaseRanking();\n  decreaseRanking();\n  ascSort();\n  descSort();\n  \n  checkLoginStatus()\n  .then( userInfo => {\n    showContent();\n    const username = Object.keys(userInfo);\n    todos = userInfo[username[0]].todos;\n    renderTodos(todos);\n  })\n  .catch( err => {\n    updateStatus(errMsgs[err.error] || err.error);\n    showLogin();\n  });\n  \n  function showContent() {\n    document.querySelector('#todo-app .login').classList.add('hidden');\n    document.querySelector('#todo-app .logged-in').classList.remove('hidden');\n  }\n  \n  function showLogin() {\n    document.querySelector('#todo-app .login').classList.remove('hidden');\n    document.querySelector('#todo-app .logged-in').classList.add('hidden');\n  }\n\n  function updateStatus( message ) {\n    document.querySelector('#todo-app .status').innerText = message;\n  } \n  \n  function addLogin() {\n    document.querySelector('#todo-app .login button').addEventListener('click', () => {\n      const usernameEl = document.querySelector('#todo-app .login input');\n      const username = usernameEl.value;\n      // call service\n      performLogin(username)\n      .then( userInfo => {\n        showContent();\n        todos = userInfo[username].todos;\n        renderTodos(todos);\n      })\n      .catch( err => {\n        updateStatus(errMsgs[err.error] || err.error);\n      })\n    });\n  }\n\n  function addLogout() {\n    document.querySelector('#todo-app .logout-button').addEventListener('click', () => {\n      document.querySelector('#todo-app .login input').value = \"\";\n      performLogout()\n      .then( info => {\n        showLogin();\n      })\n      .catch( err => {\n        updateStatus(errMsgs[err.error] || err.error);\n      })\n    });\n  }\n\n  function disableButtonIfNoInput() {\n    toAdd.addEventListener('input', () => {\n      add.disabled = !toAdd.value;\n    });\n  }\n\n  function addItem() {\n    add.addEventListener('click', () => {\n      const name = toAdd.value;\n      performAdd(name)\n      .then( userInfo => {\n        const username = Object.keys(userInfo);\n        todos = userInfo[username[0]].todos;\n        toAdd.value = '';\n        renderTodos(todos);\n      })\n      .catch( err => {\n        updateStatus(errMsgs[err.error] || err.error);\n      })\n    })\n  }\n\n  function deleteItem() {\n    list.addEventListener('click', (e) => {\n      if(e.target.classList.contains('delete') ) {\n        const index = e.target.dataset.index;\n        performDelete(index)\n        .then( userInfo => {\n          const username = Object.keys(userInfo);\n          todos = userInfo[username[0]].todos;\n          renderTodos(todos);\n        })\n        .catch( err => {\n          updateStatus(errMsgs[err.error] || err.error);\n        })\n      }\n    })\n  }\n\n  function increaseRanking() {\n    list.addEventListener('click', (e) => {\n      if(e.target.classList.contains('increase') ) {\n        const index = e.target.dataset.index;\n        performIncrease(index)\n        .then( userInfo => {\n          const username = Object.keys(userInfo);\n          todos = userInfo[username[0]].todos;\n          renderTodos(todos);\n        })\n        .catch( err => {\n          updateStatus(errMsgs[err.error] || err.error);\n        })\n      }\n    })\n  }\n\n  function decreaseRanking() {\n    list.addEventListener('click', (e) => {\n      if(e.target.classList.contains('decrease') ) {\n        const index = e.target.dataset.index;\n        performDecrease(index)\n        .then( userInfo => {\n          const username = Object.keys(userInfo);\n          todos = userInfo[username[0]].todos;\n          renderTodos(todos);\n        })\n        .catch( err => {\n          updateStatus(errMsgs[err.error] || err.error);\n        })\n      }\n    })\n  }\n\n  function disableDecreaseButton(todos) {\n    for (let index in todos) {\n      if (todos[index].ranking == 1){\n        let decreaseBtnEl = document.querySelector(`.decrease[data-index=\"${index}\"]`);//\n        decreaseBtnEl.disabled = true;\n      }\n    }\n  }\n\n  function disableIncreaseButton(todos) {\n    for (let index in todos) {\n      if (todos[index].ranking == 5){\n        let increaseBtnEl = document.querySelector(`.increase[data-index=\"${index}\"]`);//\n        increaseBtnEl.disabled = true;\n      }\n    }\n  }\n  \n  function ascSort() {\n    document.querySelector('#todo-app .asc-sort').addEventListener('click', () => {\n      curSort = 'asc';\n      sortAscList();\n\n      return true;\n    })\n  }\n\n  function descSort(todos) {\n    document.querySelector('#todo-app .desc-sort').addEventListener('click', () => {\n      curSort = 'desc';\n      sortDescList();\n      return false;\n    })\n  }\n  \n  function sortAscList() {\n    var list, i, switching, b, litag, shouldSwitch;\n    list = document.querySelector('.todos');\n    switching = true;\n    while (switching) {\n      switching = false;\n      b = list.getElementsByClassName(\"todo-ranking\");\n      litag = list.getElementsByClassName(\"todo\");\n      for (i = 0; i < (b.length - 1); i++) {\n        shouldSwitch = false;\n        if (Number(b[i].innerHTML) > Number(b[i + 1].innerHTML)) {\n          shouldSwitch = true;\n          break;\n        }\n      }\n      if (shouldSwitch) {\n        litag[i].parentNode.insertBefore(litag[i+1], litag[i]);\n        switching = true;\n      }\n    }\n  }\n\n  function sortDescList() {\n    var list, i, switching, b, litag, shouldSwitch;\n    list = document.querySelector('.todos');\n    switching = true;\n    while (switching) {\n      switching = false;\n      b = list.getElementsByClassName(\"todo-ranking\");\n      litag = list.getElementsByClassName(\"todo\");\n      for (i = 0; i < (b.length - 1); i++) {\n        shouldSwitch = false;\n        if (Number(b[i].innerHTML) < Number(b[i + 1].innerHTML)) {\n          shouldSwitch = true;\n          break;\n        }\n      }\n      if (shouldSwitch) {\n        litag[i].parentNode.insertBefore(litag[i+1], litag[i]);\n        switching = true;\n      }\n    }\n  }\n  \n  function renderTodos(todos) {\n    const listEl = document.querySelector('#todo-app .todos');\n    const html = todos.map( (todo,index) => {\n      return `\n        <li class=\"todo\">\n          <span class=\"name\" data-index=\"${index}\">${todo.task}</span>\n          <span class=\"delete\" data-index=\"${index}\">X</span>\n          <button class=\"decrease\" type=\"button\" data-index=\"${index}\">-</button>\n          <span class=\"todo-ranking\" data-index=\"${index}\">${todo.ranking}</span>\n          <button class=\"increase\" type=\"button\" data-index=\"${index}\">+</button>\n        </li>`;\n    }).join(\"\\n\");\n    listEl.innerHTML = html;\n    updateStatus('');\n    add.disabled = !toAdd.value;\n    disableButtonIfNoInput(); \n    disableDecreaseButton(todos);\n    disableIncreaseButton(todos);\n    if (curSort === 'asc'){\n      sortAscList();\n    }\n    else if (curSort ==='desc'){\n      sortDescList();\n    }\n  }\n\n  const myTimer = setInterval(refresh, 5000);\n  function refresh() {\n    const name = toAdd.value;\n    performRefresh()\n    .then( userInfo => {\n      const username = Object.keys(userInfo);\n      todos = userInfo[username[0]].todos;\n      toAdd.value = name;\n      renderTodos(todos);\n    })\n    .catch( err => {\n      updateStatus(errMsgs[err.error] || err.error);\n    })\n  }\n  "],"sourceRoot":""}